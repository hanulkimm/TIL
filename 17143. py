import sys
sys.stdin = open('input.txt', 'r')

di = [0, -1, 1, 0, 0]
dj = [0, 0, 0, 1, -1]
dct = {1:2, 2:1, 3:4, 4:3}
# ci,cj,speed,dir,amount = map(int, input().split()) # 위치, 움직이는 거리, 방향, 크기
n, m, k = map(int, input().split()) # 행, 열, 상어 수
arr = [list(map(int, input().split())) for _ in range(k)]
print(arr)
ans = 0
for j in range(m):
    for i in range(len(arr)):
        if arr[i][1]==j:
            ans += arr[i][4]
            arr.pop(i)
        else:
            arr[i][0] += di[arr[i][3]]*arr[i][2] # ni
            arr[i][1] += dj[arr[i][3]] * arr[i][2] # nj

            # 범위 밖 처리
            if arr[i][0]<0 or arr[i][0]>n-1:
                arr[i][2] % (2*(n-1))
            if arr[i][1] < 0 or arr[i][1]>m-1:

            arr.sort(key=lambda x:(x[0], x[1], x[4]), reverse=True)
            k = 1
            while k < len(arr):
                if arr[i-1][:2]==arr[i][:2]:
                    arr.pop(i)
                else:
                    i += 1
print(ans)